#!/bin/bash

# ะกะบัะธะฟั ะดะปั ะฑััััะพะณะพ ะทะฐะฟััะบะฐ ะฑะพัะฐ

echo "๐ค ะะฐะฟััะบ ะคะธะฝะฐะฝัะพะฒะพะณะพ ะฑะพัะฐ..."

# ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั .env ัะฐะนะปะฐ
if [ ! -f .env ]; then
    echo "โ ะคะฐะนะป .env ะฝะต ะฝะฐะนะดะตะฝ!"
    echo "๐ ะกะพะทะดะฐะนัะต ัะฐะนะป .env ะฝะฐ ะพัะฝะพะฒะต env_example.txt"
    exit 1
fi

# ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python 3 ะฝะต ัััะฐะฝะพะฒะปะตะฝ!"
    exit 1
fi

# ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั requirements
if [ ! -f requirements.txt ]; then
    echo "โ ะคะฐะนะป requirements.txt ะฝะต ะฝะฐะนะดะตะฝ!"
    exit 1
fi

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
echo "๐ฆ ะัะพะฒะตัะบะฐ ะทะฐะฒะธัะธะผะพััะตะน..."
pip3 install -r requirements.txt > /dev/null 2>&1

# ะะฐะฟััะบ ะฑะพัะฐ
echo "๐ ะะฐะฟััะบ ะฑะพัะฐ..."
python3 bot.py

